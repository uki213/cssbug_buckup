<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="normal.css" title="Normal">
<link rel="start" href="../../index.html" title="トップページ">
<link rel="contents" href="../winie.html" title="WinIE目次">
<link rev="made" href="mailto:cssbug@lycos.jp">
<title>Internet Explorer (Windows) CSSバグリスト</title>
</head>
<body>
<h1>Internet Explorer (Windows) CSSバグリスト</h1>
<div class="navi"><a href="../../index.html">トップページ</a>／<a href="../winie.html">WinIE目次</a>／バグ105</div>

<h2>hr要素に指定した下マージンが親要素の下マージンとして反映される<em>(5.x/6.0)</em></h2>

<h3>症状</h3>
<p>hr要素に <code>display:block;</code> と任意の下マージンを指定したとき、そのhr要素を最後部に内包する親要素の下マージンがhr要素に指定した下マージンと同じ値<ins datetime="2003-05-26T00:00:00+09:00">に</ins>なる。</p>

<h3>例示</h3>
<pre>&lt;div style=&quot;margin:0; border:2px solid red;&quot;&gt;
&lt;hr style=&quot;display:block; margin-bottom:1em;&quot;&gt;
&lt;/div&gt;
&lt;div style=&quot;margin:0; border:2px solid blue;&quot;&gt;↑&lt;/div&gt;</pre>
<div class="example">
<div style="margin:0; border:2px solid red;">
<hr style="display:block; margin-bottom:1em;">
</div>
<div style="margin:0; border:2px solid blue;">↑</div>
</div>
<p>hr要素に1emの下マージンを設定しています。また、div要素のマージンは0にしています。</p>

<h3>スクリーンショット</h3>
<div class="shot">
<p><img src="img/b105_1.png" alt="N7" width="124" height="73">N7.02での表示（標準モード）</p>
<p><img src="img/b105_2.png" alt="WinIE6" width="108" height="71">WinIE6.0での表示（標準モード）</p>
</div>

<h3>補足</h3>
<p>バグを回避する方法がいくつかあります。</p>
<ul>
<li>hr要素への <code>display:block;</code> 指定をやめる（ただし、Gecko系UAで別のバグ（<a href="../mozilla/b042.html" title="互換モードではhr要素に指定したclearプロパティが無視される">Mozバグ042</a>、<a href="../mozilla/b053.html" title="折り返しを抑制した要素内にあるhr要素の幅が正しく算出されない">Mozバグ053</a>）が発生することがある）。</li>
<li>親ブロックに任意の（auto以外の）widthかheightを指定する。
<pre>&lt;div style=&quot;margin:0; border:2px solid red; <em>width:100%;</em>&quot;&gt;
&lt;hr style=&quot;display:block; margin-bottom:1em;&quot;&gt;
&lt;/div&gt;
&lt;div style=&quot;margin:0; border:2px solid blue;&quot;&gt;↑&lt;/div&gt;</pre>
</li>
<li>hrをブロック内の最下部にしない。つまりhrの次に何か書き入れる。
<pre>&lt;div style=&quot;margin:0; border:2px solid red;&quot;&gt;
&lt;hr style=&quot;display:block; margin-bottom:1em;&quot;&gt;
<em>○</em>&lt;/div&gt;
&lt;div style=&quot;margin:0; border:2px solid blue;&quot;&gt;↑&lt;/div&gt;</pre>
</li>
<li>hrへのmargin-bottom指定値を0かautoにする。
<pre>&lt;div style=&quot;margin:0; border:2px solid red;&quot;&gt;
&lt;hr style=&quot;display:block; <em>margin-bottom:0;</em>&quot;&gt;
&lt;/div&gt;
&lt;div style=&quot;margin:0; border:2px solid blue;&quot;&gt;↑&lt;/div&gt;</pre>
</li>
</ul>

<h3>修正状況</h3>
<p>WinIE5.5、WinIE6.0標準モード、WinIE6.0互換モードで不具合の発生が確認されました。</p>

<div class="navi"><a href="../../index.html">トップページ</a>／<a href="../winie.html">WinIE目次</a>／バグ105</div>
</body>
</html>
